/*! For license information please see 6b631c3f.f6de8a11.chunk.js.LICENSE.txt */
(self["b-index-lp-web-mfe__LOADABLE_LOADED_CHUNKS__"]=self["b-index-lp-web-mfe__LOADABLE_LOADED_CHUNKS__"]||[]).push([["6b631c3f","72fdb30a","bf5d442e"],{30190550:(e,t,n)=>{"use strict";n.d(t,{au:()=>o,L4:()=>s,wd:()=>r});const a=/^(b_feature_.*|exp_.*|i_am_from)$/;var i=n("dc6d28ff");const r=function(e){var t;const n=(0,i.getRequestContext)(),r=n.getBPlatformEnvironment(),o=!(!r||"prod"!==r),s=n.getBasePageUrl(),l=n.getEncryptedCommonOauthState(),d=null===(t=n.getAffiliate())||void 0===t?void 0:t.id,c=n.getLanguage(),m=n.getActionName(),u=n.isInternalIp(),{componentId:_,iframe:g,popup:p,prompt:v,experimentVariant:f,experiments:h,customParams:k,devHosts:b}=e,S=s&&s.host.endsWith("booking.cn"),y=k||{},E=`https://${function(e,t,n){return e?"account.booking."+(t?"cn":"com"):n&&n.ap?n.ap:"account.dqs.booking.com"}(o,S,b)}/auth/oauth2`,N=`https://${function(e,t,n){return e?"secure.booking."+(t?"cn":"com"):n&&n.book?n.book:"book.dqs.booking.com"}(o,S,b)}/login.html?op=oauth_return`,I=new URL(E);I.searchParams.set("client_id",function(e){return e?"vO1Kblk7xX9tUn2cpZLS":"b_test_fe"}(o)),I.searchParams.set("redirect_uri",N),I.searchParams.set("response_type",e.anon?"anon_session":"code"),c&&I.searchParams.set("lang",c),d&&I.searchParams.set("aid",d.toString()),m&&I.searchParams.set("bkng_action",m),g&&(I.searchParams.set("iframe","1"),y.iframe="1"),p&&I.searchParams.set("popup","1"),v&&I.searchParams.set("prompt",v),f&&I.searchParams.set("variant",f.toString()),o&&!u||function(e,t){t.searchParams.forEach(((t,n)=>{a.test(n)&&e.searchParams.set(n,t)}))}(I,s);const x={id:_};if(h&&(x.data=function(e){const t={};return Object.keys(e).forEach((n=>{var a,i,r,o;const s={};null!==(a=e[n])&&void 0!==a&&a.variant&&(s.v=e[n].variant),null!==(i=e[n])&&void 0!==i&&i.auth_request_goal&&(s.g1=e[n].auth_request_goal),null!==(r=e[n])&&void 0!==r&&r.auth_page_loaded_goal&&(s.g2=e[n].auth_page_loaded_goal),null!==(o=e[n])&&void 0!==o&&o.auth_page_interaction_goal&&(s.g3=e[n].auth_page_interaction_goal),t[n]=s})),t}(h)),Object.keys(y).length&&(x.params=y),l){const e=function(e,t){try{let n;const a=JSON.stringify(t);return n=btoa(a),`${e}*${n}`}catch(n){return`${e}*`}}(l,x);e&&I.searchParams.set("state",e)}return I.toString()};let o=function(e){return e.BOOKING_PROCESS_2_AUTH_LOW="bs2_auth_low",e.BOOKING_PROCESS_INLINE="bp_inline",e.GENIUS_INDEX_SHEET="genius_index_sheet",e.GENIUS_LANDING_PAGE="genius_landing_page",e.GENIUS_LANDING_PAGE_INCENTIVE_CAMPAIGN="genius_lp_incentive_campaign",e.GENIUS_ROOM_TABLE_BANNER_MDOT="genius_rt_mdot_banner",e.GENIUS_ROOM_TABLE_BANNER_WWW="genius_room_table_banner_www",e.GENIUS_SEARCHRESULTS_SHEET="genius_searchresults_sheet",e.GENIUS_SHEET="genius_sheet",e.GENIUS_SIGN_IN_EMAIL_POPOVER="genius-sign-in-email-popover",e.HELP_CENTER="help_center",e.INDEX="index",e.LOGIN_CARD="login_card",e.LOGIN_CARD_SOCIAL="login_card_social",e.TRAVELLER_HEADER="traveller_header",e.WISHLIST_BTN="wishlist_btn",e.WISHLIST_BTN_SR="wishlist_btn_sr",e.WISHLIST_DETAILS="wishlist_details",e.MERCH_PLATFORM_SR="merch_platform_sr",e.MERCH_PLATFORM_INDEX="merch_platform_index",e.MERCH_PLATFORM_INDEX_CTA="merch_platform_index_cta",e.CARS_INDEX_LP="cars_index_lp",e.GENIUS_INDEX_BANNER="genius_index_banner",e.GENIUS_INDEX_CAROUSEL="genius_index_carousel",e.GENIUSVIP_ENROLLMENT="geniusvip_enrollment",e.MEMBERSHIP_HUB_REDIRECT="membership_hub_redirect",e.LANDING_PAGES_HOLIDAYS="landing_pages_holidays",e.LANDING_PAGES="landing_pages",e.PROPERY_PAGE="propery_page",e.MERCH_PLATFORM_PROPERTY_PAGE_CTA="merch_platform_property_page_cta",e.MERCH_PLATFORM_SEARCH_RESULTS_PAGE_CTA="merch_platform_search_results_page_cta",e.SEARCH_RESULTS_MDOT_PROPERTY_LIST_CTA_MDOT="search_results_mdot_property_list_cta",e.SEARCH_RESULTS_WWW_PROPERTY_LIST_CTA_MDOT="search_results_www_property_list_cta",e.SEARCH_RESULTS="search_results",e}({}),s=function(e){return e.SIGN_IN="signin",e.REGISTER="register",e.ACCOUNT_RECOVERY="account-recovery",e.NONE="none",e}({})},af1e2b38:(e,t,n)=>{"use strict";n.d(t,{NM:()=>a.N,sv:()=>r,Z6:()=>o});var a=n("6ee88c54"),i=n("dc6d28ff");const r=()=>(0,i.getRequestContext)().getSiteType()??a.N.WWW,o=()=>{const e=r();return{isWWW:e===a.N.WWW,isMDOT:e===a.N.MDOT,isTDOT:e===a.N.TDOT}}},dcc20038:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ProgramContext:()=>Ye,default:()=>Je});var a=n("ead71eb0"),i=n.n(a),r=n("dc6d28ff"),o=n("3d054e81"),s=n("6222292b");const l=(0,a.createContext)({});const d=function(e){let{openOnLoad:t,isMdot:n,onAfterClose:r,children:d,actionBar:c,sheetContainerProps:m,closeAriaLabel:u}=e;const[_,g]=(0,a.useReducer)((e=>(e&&r&&r(),!e)),"undefined"!==typeof t&&t),p={active:!0,onCloseTrigger:g,position:n?"bottom":"center",closeAriaLabel:u||""},[v,f]=(0,a.useState)(null),[h,k]=(0,a.useState)(null);return n&&c&&Object.assign(p,{footer:c}),m&&Object.assign(p,m),i().createElement(l.Provider,{value:{isOpen:_,toggle:g,setContent:e=>!v&&f(e),setHeader:e=>!h&&k(e),resetContent:e=>f(e)}},d,_?i().createElement(s.SheetContainer,(0,o.Z)({},h,p),v):null)},c=(l.Consumer,d);var m=n("c44dcb0c"),u=n("239beb17"),_=n("cedcabf9"),g=n("41c6c66e"),p=n("28dbd132");const v={kind:"Document",definitions:(e=>{const t={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const n=e.name.value;return!t[n]&&(t[n]=!0,!0)}))})([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"indexVipBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipUIsInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"geniusVipEnrolledProgram"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipNoEnrolledProgram"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipEnrolledProgram"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"metadata"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"programType"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SpendAndUnlockProgramMetadata"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"upperLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookAndUnlockMetadata"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reward"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SpendAndUnlockReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountTotalUserSpent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookAndUnlockReward"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userProgress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserProgress"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"geniusVipUIs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"indexBanner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IndexUiContent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProgressBar"},directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"indexModal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IndexModal"},directives:[]},{kind:"Field",name:{kind:"Name",value:"modalCategory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uniqueKey"},arguments:[],directives:[]}]}}]}}]}}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"TextWithTranslationTag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TextWithTranslationTag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"BannerImage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"IndexUiContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipBanner"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subtitle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"BannerImage"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionString"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dismissible"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProgressBar"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipBanner"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"progressBar"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"indicators"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"formattedValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]}]}}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"IndexModal"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipInfoModal"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subtitle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"BannerImage"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionDismiss"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"PriceFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Price"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"UserProgress"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookAndUnlockUserProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isOnboarding"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxRewardsReached"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxBookingsReached"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rounds"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"index"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookingsCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewardsSent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewardAmount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isStarted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedCurrencies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardAmount"},arguments:[],directives:[]}]}}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"BookAndUnlockReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookAndUnlockReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountEarned"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"formattedCurrencies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountEarned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amountPendingTotal"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"BookAndUnlockMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookAndUnlockProgramMetadata"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookingsPerRound"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxRounds"},arguments:[],directives:[]}]}}])),loc:{start:0,end:1114,source:{body:"\n  query indexVipBanner($input: GeniusVipUIsInput) {\n    geniusVipEnrolledProgram(input: $input) {\n      __typename\n      ... on GeniusVipNoEnrolledProgram {\n        reason\n      }\n      ... on GeniusVipEnrolledProgram {\n        metadata {\n          programType\n          ... on SpendAndUnlockProgramMetadata {\n            rewardPercent\n            threshold {\n              ...PriceFields\n            }\n            upperLimit {\n              ...PriceFields\n            }\n          }\n          ...BookAndUnlockMetadata\n        }\n        reward {\n          ... on SpendAndUnlockReward {\n            amountTotalUserSpent {\n              ...PriceFields\n            }\n          }\n          ...BookAndUnlockReward\n        }\n        userProgress {\n          ...UserProgress\n        }\n        geniusVipUIs {\n          indexBanner {\n            ...IndexUiContent\n            ...ProgressBar\n            endDate {\n              text\n            }\n          }\n          indexModal {\n            ...IndexModal\n            modalCategory\n            uniqueKey\n          }\n        }\n      }\n    }\n  }\n\n  \n  \n  \n  \n  \n  \n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};const f=(e,t)=>!!e&&t.every((t=>null!=e[t]));var h=n("01c3b824");h.Qv["en-gb"],h.Qv["en-us"],h.Qv.de,h.Qv.es,h.Qv.fr;let k=function(e){return e.BANNER_VIEW="CAPLA_EVENT_genius_vip_BANNER_VIEW",e.BANNER_CTA_CLICK="CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK",e.BANNER_DISMISS="CAPLA_EVENT_genius_vip_BANNER_DISMISS",e.MODAL_VIEW="CAPLA_EVENT_genius_vip_MODAL_VIEW",e.MODAL_CTA_CLICK="CAPLA_EVENT_genius_vip_MODAL_CTA_CLICK",e.MODAL_DISMISS="CAPLA_EVENT_genius_vip_MODAL_DISMISS",e.REMINDER_MODAL_VIEW="CAPLA_EVENT_genius_vip_REMINDER_MODAL_VIEW",e.REMINDER_MODAL_CTA_CLICK="CAPLA_EVENT_genius_vip_REMINDER_MODAL_CTA_CLICK",e.REMINDER_MODAL_DISMISS="CAPLA_EVENT_genius_vip_REMINDER_MODAL_DISMISS",e.LOGIN_MODAL_VIEW="CAPLA_EVENT_genius_vip_LOGIN_MODAL_VIEW",e.LOGIN_MODAL_CTA_CLICK="CAPLA_EVENT_genius_vip_LOGIN_MODAL_CTA_CLICK",e.LP_VIEW="CAPLA_EVENT_genius_vip_LP_VIEW",e.PROGRESS_CTA_CLICK="CAPLA_EVENT_genius_vip_PROGRESS_CTA_CLICK",e}({}),b=function(e){return e.WELCOME="welcome",e.REMINDING="reminding",e.LOGIN="login",e.EXPIRE="expire",e}({});const S="vip_token",y="vip_campaign",E=1680505199e3;let N=function(e){return e.BookAndUnlock="BookAndUnlock",e.FreeRoomUpgrade="FreeRoomUpgrade",e.InstantCredit="InstantCredit",e.InstantDiscount="InstantDiscount",e.InstantVoucher="InstantVoucher",e.OneOffVoucher="OneOffVoucher",e.SpendAndUnlock="SpendAndUnlock",e}({}),I=function(e){return e.BOOKING_DETAIL="BOOKING_DETAIL",e.BOOKING_PROCESS_1="BOOKING_PROCESS_1",e.BOOKING_PROCESS_2="BOOKING_PROCESS_2",e.CONFIRMATION_PAGE="CONFIRMATION_PAGE",e.INDEX="INDEX",e.LANDING_PAGE="LANDING_PAGE",e.PROPERTY_PAGE="PROPERTY_PAGE",e.ROOM_DETAIL="ROOM_DETAIL",e.SEARCH_RESULTS="SEARCH_RESULTS",e.WALLET="WALLET",e}({});var x=n("abab1afe");var C=n("107a8bb5");(0,x.registerDynamicTags)((0,x.t)("date_format","fakeIndex","short_date"));const T="short_date";var O=n("e74bf205"),R=new Map([["AFA",0],["BHD",3],["BIF",0],["BYR",0],["CLP",0],["COP",0],["DJF",0],["ECS",0],["GNF",0],["HUF",0],["IDR",0],["IQD",3],["ISK",0],["JOD",3],["JPY",0],["KMF",0],["KRW",0],["KWD",3],["LAK",0],["LYD",3],["MGA",0],["MZM",0],["OMR",3],["PYG",0],["RWF",0],["TJR",0],["TMM",0],["TND",3],["TWD",0],["UGX",0],["VND",0],["VUV",0],["XAF",0],["XOF",0],["XPF",0],["RUB",0]]),A=Object.freeze({CEIL:"CEIL",FLOOR:"FLOOR"}),P=new Map([["AFA",A.CEIL],["BIF",A.FLOOR],["BYR",A.FLOOR],["CLP",A.FLOOR],["DJF",A.FLOOR],["ECS",A.FLOOR],["GNF",A.FLOOR],["IDR",A.FLOOR],["ISK",A.FLOOR],["JPY",A.FLOOR],["KMF",A.FLOOR],["KRW",A.FLOOR],["LAK",A.FLOOR],["MGA",A.FLOOR],["MZM",A.FLOOR],["PYG",A.FLOOR],["RUB",A.FLOOR],["RWF",A.FLOOR],["TJR",A.FLOOR],["TMM",A.FLOOR],["TWD",A.FLOOR],["UGX",A.FLOOR],["VND",A.FLOOR],["VUV",A.FLOOR],["XAF",A.FLOOR],["XOF",A.FLOOR],["XPF",A.FLOOR]]),L=new Map([["HUF",5],["COP",20]]),w=new Map([["bg","."],["es",","],["es-mx","."],["hu","."]]),D=new Map([["bg","\xa0"],["et","\xa0"],["es","."],["es-ar","."],["es-mx",","],["fr","\xa0"],["hi",","],["ka","\xa0"],["lv","\xa0"],["pl","\xa0"],["pt-br","."],["pt-pt","\xa0"]]),M=new Map([["CNY-zh-cn",""],["GBP",""],["KRW-ko",""],["JPY",""],["USD",""]]),F=new Map([["ARS","AR$"],["ARS-country-ar","$"],["BRL","R$"],["CLP","CL$"],["CLP-country-cl","$"],["CNY-zh-cn","\u5143"],["CZK","K\u010d"],["GBP","\xa3"],["EUR","\u20ac"],["HKD","HK$"],["IDR","Rp"],["ILS","\u20aa"],["ISK-is","kr."],["INR","Rs."],["INR-country-in","\u20b9"],["JPY","\xa5"],["JPY-ja","\uffe5"],["KRW-ko","\u20a9"],["KWD-ar","\u062f.\u0643."],["PHP","\u20b1"],["PLN","z\u0142"],["RUB-ru","\u0440\u0443\u0431."],["RON","lei"],["SGD","S$"],["USD","US$"],["USD-us-en-us","$"],["TRY","TL"],["XPF","CFP"]]),U=new Map([["CNY-zh-cn","after"],["CZK","after"],["ILS-ar","after"],["ILS-he","after"],["ISK-is","after"],["PLN","after"],["RON","after"],["RUB-ru","after"]]),V=new Map;function B(e,t,n,a,i){void 0===i&&(i=!0),n=n.toLowerCase();var r=(0,O.CR)(n.split("-"),1)[0];if(P.get(e))if(P.get(e)===A.CEIL){var o=.5;t=Math.ceil(t/o)*o}else{var s=t-.5;t=Number(Math.round((Number.isInteger(s)?s:t)/1))}else if(L.get(e)){o=L.get(e)||1;t=Math[t%o<=.5?"floor":"ceil"](t/o)*o}var l=function(e,t,n){var a=Number.isInteger(t)?e+"__"+n+"__int":e+"__"+n;if(!V.has(a)){var i={style:"currency",currency:e,currencyDisplay:"code",numberingSystem:"latn",minimumFractionDigits:G(e,t)},r=new Intl.NumberFormat(n,i);V.set(a,r)}return V.get(a)}(e,t,n),d=l.formatToParts(t);return"he"===r&&"literal"===d[0].type&&d.shift(),d=function(e,t,n){if(0!==G(t,n))return e;for(var a=e.length-1;a>=0;a--)if("fraction"===e[a].type||"decimal"===e[a].type)e.splice(a,1);else if("integer"===e[a].type)return e;return e}(d,e,t),d=function(e,t,n){var a=function(e,t){var n=(0,O.CR)(e.split("-"),1),a=n[0];if(U.has(t+"-"+e))return U.get(t+"-"+e);if(U.has(t+"-"+a))return U.get(t+"-"+a);if(U.has(t))return U.get(t);return"before"}(t,n);if("currency"===e[0].type&&"after"===a){var i=e.shift(),r=e.shift();e.push(r),e.push(i)}else if("currency"===e[e.length-1].type&&"before"===a){i=e.pop(),r=e.pop();e.unshift(r),e.unshift(i)}return e}(d,n,e),d=function(e,t){var n=(0,O.CR)(t.split("-"),1),a=n[0];if(["bg","es","et","hi","ka","lv","pl","pt"].indexOf(a)<0)return e;var i=W(t,"\xa0"),r=[],o=[];e=e.filter((function(e){return"group"!==e.type}));for(;"integer"!==e[0].type;)o.push(e.shift());for(;e.length>0&&"integer"===e[0].type;)r=r.concat(e[0].value.split("")),e.shift();for(var s="",l=r.length-1;l>=0;l--)(s=r.pop()+s).length%3===0&&(e.unshift({type:"integer",value:s}),r.length>0&&e.unshift({type:"group",value:i}),s="");""!==s&&e.unshift({type:"integer",value:s});return e=o.concat(e),e}(d,n),d.map((function(t){var r=t.type,o=t.value;switch(r){case"group":return W(n,o);case"decimal":return function(e,t){var n=(0,O.CR)(e.split("-"),1),a=n[0];if(w.has(e))return w.get(e);if(w.has(a))return w.get(a);return t}(n,o);case"currency":return i?function(e,t,n){var a=(0,O.CR)(e.split("-"),1),i=a[0];if(F.has(t+"-"+e))return F.get(t+"-"+e);if(n&&F.has(t+"-"+n+"-"+e))return F.get(t+"-"+n+"-"+e);if(n&&F.has(t+"-country-"+n))return F.get(t+"-country-"+n);if(F.has(t+"-"+i))return F.get(t+"-"+i);if(F.has(t))return F.get(t);return t}(n,o,a):"";case"literal":return i?function(e,t,n){var a=(0,O.CR)(t.split("-"),1),i=a[0];if(M.has(e+"-"+t))return M.get(e+"-"+t);if(M.has(e+"-"+i))return M.get(e+"-"+i);if(M.has(e))return M.get(e);return n}(e,n,o):"";default:return o}})).reduce((function(e,t){return e+t}))}function G(e,t){return Number.isInteger(t)?0:R.get(e)}function W(e,t){var n=(0,O.CR)(e.split("-"),1)[0];return D.has(e)?D.get(e):D.has(n)?D.get(n):t}var $=n("30190550");const K=()=>Date.now()-E>0||(0,u.isFeatureRunning)(u.feature`cQYIMdUTNOUbWNHGHbfEGfMKMLdeLSfBUUGXC`),H=(e,t)=>{if(!e)return{indexModal:{},modalCatgory:b.EXPIRE};const n=((e,t)=>{if(!e)return null;const n=(0,r.getRequestContext)().getLanguage(),a=(0,r.getRequestContext)().getVisitorCountry()||"",i=e.get(S),o=e.get(y),s=B("USD",25,n,a),l=e.get("vip_signature"),d=e.get("offlineModalShown");if(!i||!o||d||!l)return null;const c=K(),m=new Date(1680479999e3);return{campaignExpired:c,programType:o,voucherValueFormatted:s,expirationDateFormatted:(0,C.p6)(t,{date:`${m.getUTCFullYear()}-${m.getUTCMonth()+1}-${m.getUTCDate()}`,form:T})}})(e,t);return n?n.campaignExpired?{indexModal:z(t),modalCatgory:b.EXPIRE}:{indexModal:X(t,n.voucherValueFormatted,n.expirationDateFormatted),modalCatgory:b.LOGIN}:{indexModal:{},modalCatgory:b.EXPIRE}},z=e=>({title:e.trans((0,x.t)("vip_offline_oneoff_bottom_sheet_expire_title")),subtitle:e.trans((0,x.t)("vip_offline_oneoff_bottom_sheet_expire_description")),cta:[{text:e.trans((0,x.t)("vip_offline_oneoff_bottom_sheet_expire_cta")),actionDismiss:!0}],asset:"https://bstatic.com/data/mobile/voucherExpired.png",campaignExpired:!0}),X=(e,t,n)=>({title:e.trans((0,x.t)("vip_offline_oneoff_bottom_sheet_sign_in_title",{variables:{voucher_value:t}})),subtitle:e.trans((0,x.t)("vip_offline_oneoff_bottom_sheet_sign_in_description",{variables:{exp_date:n}})),cta:[{text:e.trans((0,x.t)("vip_offline_oneoff_bottom_sheet_sign_in_cta")),actionString:"index",actionUrl:(0,$.wd)({componentId:$.au.GENIUSVIP_ENROLLMENT,prompt:$.L4.SIGN_IN})}],asset:"https://bstatic.com/data/mobile/voucheractive.png",campaignExpired:!1});const Z={marginBottom1x:"f420f6bbf2",dismissedBannerWrapper:"eea513fff0",bannerWrapper:"c72aded5f7",banner:"c82d14d624",modern:"de712accea",bannerTitle:"e7ce666a86",progrssionBarWrapper:"dccdf01c32",vipHighlight:"d6bedc5a57"};function j(e){let{name:t,onClick:n,callback:a,href:r,newTab:l,content:d,isLoading:c,loaderProps:m}=e;if(c)return i().createElement(s.SkeletonLoader,(0,o.Z)({attributes:{"data-testid":t}},m));if(a){const e=e=>{n?n(e):r&&(l?window.open(r,"_blank"):window.location.href=r),a()};return i().createElement(s.Actionable,{onClick:e},d)}return n?i().createElement(s.Actionable,{onClick:n},d):i().createElement(s.Actionable,{href:r,attributes:l?{target:"_blank"}:{}},d)}function Y(e){let{name:t,content:n,defaults:a,isLoading:r,loaderProps:l,...d}=e;return r?i().createElement(s.SkeletonLoader,(0,o.Z)({attributes:{"data-testid":t}},l)):n?i().createElement(s.Text,(0,o.Z)({},a,d),n):null}function q(e){let{forwardedRef:t,headline:n,image:r,imagePosition:l,imageClassName:d,imageLoaderProps:c,textBlock:m,suptitle:u,title:_,subtitle:g,action:p,containerProps:v,horizontalLayoutProps:f,textLayoutProps:h,actionLayoutProps:k,ctaLayoutProps:b,extraColumnLayoutProps:S,dismissibleProps:y,extraColumnProps:E,headlineGap:N,isLoading:I}=e,x=null;p&&(x=p instanceof Array?p.map((e=>i().createElement(j,(0,o.Z)({key:"action",name:"action"},e,{isLoading:I})))):i().createElement(j,(0,o.Z)({},p,{name:"action",isLoading:I})));const C=m||i().createElement(s.Stack,{gap:0},u?i().createElement(s.Stack.Item,null,i().createElement(Y,(0,o.Z)({name:"suptitle",isLoading:I,loaderProps:null===u||void 0===u?void 0:u.loaderProps,variant:"body_1",content:"object"===typeof u?null===u||void 0===u?void 0:u.children:u},"string"!==typeof u&&u))):null,i().createElement(s.Stack.Item,null,i().createElement(s.Stack,(0,o.Z)({direction:"row"},S),i().createElement(s.Stack.Item,{grow:!0},i().createElement(s.Stack,h,i().createElement(s.Stack.Item,null,_?i().createElement(Y,(0,o.Z)({name:"title",isLoading:I,loaderProps:null===_||void 0===_?void 0:_.loaderProps,variant:"featured_1",content:"object"===typeof _?null===_||void 0===_?void 0:_.children:_},"string"!==typeof _&&_)):null),g?i().createElement(s.Stack.Item,null,i().createElement(Y,(0,o.Z)({name:"subtitle",isLoading:I,loaderProps:null===g||void 0===g?void 0:g.loaderProps,color:"neutral_alt",content:"object"===typeof g?null===g||void 0===g?void 0:g.children:g},"string"!==typeof g&&g))):null)),E?i().createElement(s.Stack.Item,E,E.content):null))),T=y?s.DismissibleContainer:a.Fragment;return v&&Object.assign(v,{...v,attributes:{...null===v||void 0===v?void 0:v.attributes,ref:t}}),i().createElement(s.Box,v,i().createElement(T,y,i().createElement(s.Stack,{gap:N},n?i().createElement(s.Stack.Item,null,i().createElement(Y,(0,o.Z)({name:"headline",isLoading:I,loaderProps:null===n||void 0===n?void 0:n.loaderProps,variant:"headline_2",content:"object"===typeof n?null===n||void 0===n?void 0:n.children:n},"string"!==typeof n&&n))):null,i().createElement(s.Stack.Item,null,i().createElement(s.Stack,(0,o.Z)({},f,{direction:"right"===l?"row-reverse":"row"}),r?i().createElement(s.Stack.Item,{className:d},I?i().createElement(s.SkeletonLoader,(0,o.Z)({attributes:{"data-testid":"image"}},c)):r):null,i().createElement(s.Stack.Item,{grow:!0},i().createElement(s.Stack,(0,o.Z)({gap:6},k),i().createElement(s.Stack.Item,null,C),x?i().createElement(s.Stack.Item,null,i().createElement(s.Stack,(0,o.Z)({direction:"row"},b),x)):null)))))))}const J=(0,a.forwardRef)(((e,t)=>i().createElement(q,(0,o.Z)({},e,{forwardedRef:t}))));J.displayName="CampaignBannerWithRef";var Q=n("d0fefcf5");const ee="a213669eee",te="bd6e6e573f",ne="a1f386fa1f",ae="feea691fa5",ie="cdab232c3e",re="d463dc7303",oe="bb284785b4",se="beb419b55c",le="c80533ec84";var de=n("8521b397"),ce=n.n(de),me=n("d1e54a96");const ue=function(e){if(!e.progress||e.indicators.length<5)return null;const t=(0,me.isRTL)(),n=(a=e.progress,r=e.upperLimit,o=e.threshold,s=e.indicators,l=e.size,a<=o?"large"===l?s.slice(2):s.slice(2,4):a>o&&a<r-o?"large"===l?s.slice(1,4):s.slice(1,3):a===r-o?"large"===l?s.slice(1,4):s.slice(2,4):"large"===l?s.slice(0,3):s.slice(1,3));var a,r,o,s,l;const d=((n,a,i,r)=>{const o={large:a-2*i,medium:a-i,small:a-i},s="large"===e.size&&n>o[e.size],l="large"!==e.size&&n>=o[e.size],d=s||l,c=(n-(s?r[0].value:r[0].value-i))/(d?2*i:(r.length+1)*i)*100+"%";if("small"===e.size)return{fillerLengthPercentage:c};const m=d?.5:Math.round(1/(r.length+1)*100)/100,u=s?0:m,_=r.map(((n,a)=>{const i=n.formattedValue.length>15,o=t?100*(1-(u+a*m))+"%":100*(u+a*m)+"%";let s="white",l="none",_="unset";const g=t?100-parseInt(o):parseInt(o);g<=parseInt(c)&&(s="#FEBB02",l=`${le}`,_=g?1/parseInt(c)*g*1e3+100+"ms":"unset");const p={left:`calc(${o} - 5px)`,backgroundColor:s,animationName:l,animationDuration:_};let v=ce()(ie,i&&re);return d&&(a===r.length-1?(Object.assign(p,t?{left:0,right:"unset"}:{left:"unset",right:0}),v=ce()(ie,i&&re,se)):"large"===e.size&&0===a&&(Object.assign(p,t?{right:0}:{left:0}),v=ce()(ie,i&&re,oe))),{id:`indicator_${a}`,style:p,className:v,...n}}));return{fillerLengthPercentage:c,indicators:_}})(e.progress,e.upperLimit,e.threshold,n),c=ce()(te,"small"===e.size&&ne),m=ce()(ae,"small"===e.size&&ne);return i().createElement("div",{className:ee},i().createElement("div",{className:c},i().createElement("div",{className:m,style:{width:d.fillerLengthPercentage}})),d&&d.indicators&&d.indicators.map((e=>i().createElement("div",{key:e.id,className:e.className,style:e.style,"data-indicator-label":e.formattedValue}))))},_e={"vip-highlight":"vip-highlight","vip-link":"vip-link","vip-bold":"vip-bold","vip-black-bold":"vip-black-bold","vip-semi-bold":"vip-semi-bold"},ge=Object.keys(_e),pe=new RegExp(`(<|</)(${ge.join("|")})(-[0-9]+)*>`,"g"),ve=(e,t,n,a,r)=>r?i().createElement(t,{key:a,href:r,className:n},e):i().createElement(t,{key:a,className:n},e),fe=function(e,t){if(!e)return"";const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"span",a=Object.assign({},_e,t);let i;const r=[],o=[];let s=0;for(var l=arguments.length,d=new Array(l>3?l-3:0),c=3;c<l;c++)d[c-3]=arguments[c];for(;null!==(i=pe.exec(e));){const[,t,l,c]=i;switch(t){case"<":s!==pe.lastIndex&&0!==pe.lastIndex&&(o.length?o[o.length-1].temp.push(e.slice(s,i.index)):r.push(e.slice(s,i.index))),o.push({rule:l,temp:[]}),s=pe.lastIndex;break;case"</":const t=o.pop();if(t&&t.rule===l){const m="vip-link"===l;let u;if(m)if("string"===typeof c){u=d[+c.substring(1)-1]}else u=d.shift();o.length?(t.temp.push(e.substring(s,i.index)),o[o.length-1].temp.push(ve(t.temp,m?"a":n,a[l],s,m?u:""))):(s!==i.index&&t.temp.push(e.substring(s,i.index)),r.push(ve(t.temp,m?"a":n,a[l],s,m?u:"")))}else o.length?o[o.length-1].temp.push(e.substring(s,i.index)):r.push(e.substring(s,i.index)),(0,g.reportWarning)(`copyTagParser found tags mismatch in [${e}]`);s=pe.lastIndex}}let m=o.pop();for(;m;)o.length?o[o.length-1].temp.push(m.temp):r.push(m.temp),m=o.pop();return s!==e.length&&r.push(e.slice(s,e.length)),r},he={index:"app",searchresults:"app",hotel:"app",genius:"app",genius_vip:"app",genius_vip_campaigns:"app",vip_oneoff_voucher_tnc:"app",book:"book",confirmation:"book",mybooking:"book",myreservations:"book",rewards_and_wallet:"book",help:"book","":"app"},ke=e=>be.test(e)?"app":Se.test(e)?"book":he[e],be=/^(content\/)(terms|wallet-terms)/,Se=/^(rewards_and_wallet\/)/,ye=e=>e.indexOf("voucher")>-1?{page_type:"legacy"}:{};function Ee(e,t,n,a){if(a)return a;const i=(0,r.getRequestContext)().getLanguage(),[o,s]=e.split("#"),l=ke(o)||void 0,d=new URLSearchParams;if(t&&d.append("src",t),n)for(const[r,_]of Object.entries(n))d.append(r,_);const c=ye(o);for(const[r,_]of Object.entries(c))d.append(r,_);const m="en-us"===i?`/${o}.html`:`/${o}.${i}.html`,u=(0,me.constructUrl)({host:l,pathname:m,searchParams:d});return s?`${u.toString()}#${s}`:u.toString()}var Ne=n("9a67ad93");const Ie=e=>{const[t,n]=(0,Ne.YD)({threshold:0,triggerOnce:!0});return(0,a.useEffect)((()=>{n&&e&&e()}),[n,e]),t},xe=(e,t)=>{const n=(0,a.useRef)(!1);return(0,a.useCallback)((()=>{e&&t&&(n.current||(Q.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_VIEW",{campaign:t,actionName:e}),n.current=!0))}),[e,t])},Ce={sliderContainer:"a5e5f2c30e",innerWrapper:"ec0695d8bb",gappedSlider:"b2a34b3a24",indicatorContainer:"f1d2559f9d",indicator:"c03b4a5a61","indicator--dot":"cd114cfb51","indicator--bar":"d1e8980d1e"};const Te=function(e){let{children:t,indicatorStyle:n,speed:r=1e3,transitionSpeed:o=600,slideWidth:s,wrapperClassName:l,gap:d=!0}=e;const c=a.Children.toArray(t),m=c.length,u=[...c.keys()],[_,g]=(0,a.useState)({currentIndex:0,translateX:0,transitionStyle:`transform ${o}ms ease-out`,_slider:c}),p=(0,me.isRTL)(),{currentIndex:v,translateX:f,transitionStyle:h,_slider:k}=_,[b,S]=(0,a.useState)({}),y=(0,a.useRef)(0),E=(0,a.useRef)(null),N=(0,a.useRef)(0);(0,a.useEffect)((()=>{var e;N.current=Math.max((null===(e=E.current)||void 0===e?void 0:e.clientHeight)||0,N.current),N.current>0&&S({height:`${N.current}px`})}),[t]);const I=()=>{g({..._,currentIndex:y.current<m-1?y.current+1:0,translateX:s,transitionStyle:`transform ${o}ms ease-out`})};return(0,a.useEffect)((()=>{let e;return y.current=v,m>=2&&(e=window.setInterval(I,r)),()=>{e&&window.clearInterval(e)}})),i().createElement("div",{className:l,style:{width:`${s}px`}},m<2?t:i().createElement(i().Fragment,null,i().createElement("div",{className:Ce.sliderContainer,ref:E,style:b},i().createElement("div",{className:ce()(Ce.innerWrapper,d&&Ce.gappedSlider),style:{transform:p?`translateX(${f}px)`:`translateX(-${f}px)`,transition:`${h}`},onTransitionEnd:()=>{const e=c.slice(y.current,y.current+2);m>1&&e.length<2&&e.push(c[0]),g({..._,translateX:0,transitionStyle:"",_slider:e})}},k)),i().createElement("div",{className:Ce.indicatorContainer},u.map(((e,t)=>i().createElement("div",{key:e,className:ce()(Ce.indicator,Ce[`indicator--${n}`]),style:t===v?{opacity:1}:{opacity:.3}}))))))},Oe={badgeContainer:"ec20d38fa6",medium:"a9db490d31",small:"e7f5203cea",large:"e7446efd24",badgeRingContainer:"d839968fd2",ring:"d6971c0918",blue:"af9f422cee",progress:"d6f8aa6d40",golden:"eed9a75a5b",text:"ccdcfe57e4",badgeCompletedNumber:"a67778fd88",badgeTotalNumber:"b8f0ab5140",badgeNoBookingNumber:"fd56063d48",inner:"e1c4642331",iconImg:"ad1484d069",badgeText:"e3a347e3f9",progressText:"c3de020998",size80:"bbfe2a559f",progressRing:"cc4564610e"},Re=e=>{let{badgeSize:t,className:n,angle:a=90,radius:r=55,strokeWidth:o=10,gap:s=8,currentStep:l=3,totalSteps:d=5,theme:c="blue",children:m}=e;const u={strokeWidth:t?10:o,gap:t?8:s,radius:t?55:r,angle:t?90:a},_=2*u.radius+u.strokeWidth,g=_/2,p=g-Math.sin(a/2/180*Math.PI)*u.radius,v=g+Math.sin(a/2/180*Math.PI)*u.radius,f=g+Math.cos(a/2/180*Math.PI)*u.radius,h=`M ${p} ${f} A ${u.radius} ${u.radius} 0 ${+(a<180)} 1 ${v} ${f}`,k=Math.PI*u.radius*(360-a)/180,b=(k-u.gap*(d-1))/d-u.strokeWidth*(d-1)/d,S=`${b}px ${u.gap+u.strokeWidth}px`,y=l>0?{strokeDasharray:s>0?`${(S+" ").repeat(l-1)} ${b}px ${k}px`:`${k*l/d}px ${k}px`}:void 0;return i().createElement("div",{className:ce()(n,Oe.badgeContainer,t&&Oe[t])},i().createElement("div",{className:ce()(Oe.badgeRingContainer,Oe[c])},i().createElement("svg",{viewBox:`0 0 ${_} ${_}`,fill:"none"},i().createElement("g",{transform:"scale(1,1)"},i().createElement("path",{d:h,className:Oe.ring,strokeWidth:u.strokeWidth||o,strokeDasharray:s>0?S:void 0}),l>0?i().createElement("path",{d:h,style:y,className:ce()(Oe.ring,Oe.progress),strokeWidth:u.strokeWidth||o}):null)),m?i().createElement("div",{className:Oe.inner},m):null))};Re.Text=e=>{let{badgeSize:t,currentStep:n,totalSteps:a,theme:r,className:o}=e;const l={small:{completedTextSize:"headline_2",totalTextSize:"body_2"},medium:{completedTextSize:"headline_1",totalTextSize:"featured_3"},large:{completedTextSize:"headline_1",totalTextSize:"strong_1"}}[t||"medium"];return i().createElement("div",{className:ce()(Oe.badgeText,o,r&&Oe[r])},i().createElement(s.Text,{variant:l.completedTextSize,className:ce()(Oe.text,n>0?Oe.badgeCompletedNumber:Oe.badgeNoBookingNumber)},Math.max(0,n)),i().createElement(s.Text,{variant:l.totalTextSize,className:ce()(Oe.text,n>0?Oe.badgeTotalNumber:Oe.badgeNoBookingNumber)},"/",a))};const Ae=Re,Pe=e=>{let{size:t="medium",theme:n="blue",bookingsCount:a,maxCount:r,rewardsSent:l,isGappedRing:d=!0,iconSrc:c,additionalText:m}=e;const u=l?"https://bstatic.com/xdata/images/xphoto/max300/155161147.png?k=d70408f26332684fc7ad8476baf145813e2e71a7d8d89a40645bcc97cda6f00e&o=":"https://bstatic.com/xdata/images/xphoto/max300/155161149.png?k=02a71e2df8269c8f9783c405dcc3854ef4a727b739a7202aed1caa64dae5141a&o=",_={small:"48px",medium:"64px",large:"70px"}[t],g={badgeSize:t,theme:n,currentStep:a,totalSteps:r,gap:d?8:0,radius:60,angle:100};return i().createElement(s.Stack,{gap:null===m||void 0===m?void 0:m.gap,alignItems:"center"},i().createElement(s.Stack.Item,null,i().createElement("div",{className:Oe.progressRing},i().createElement(Ae,g,i().createElement(s.Image,{src:c||u,fallback:null,width:_,height:_,className:ce()(Oe.iconImg,t)}),i().createElement(Ae.Text,(0,o.Z)({},g,{className:Oe.progressText}))))),null!==m&&void 0!==m&&m.content.length?i().createElement(s.Stack.Item,null,i().createElement(s.Text,m.textProps,m.content)):null)};function Le(e){const{programType:t}=(0,a.useContext)(Ye),{asset:n,title:r,subtitle:l,endDate:d,progressBar:c,cta:m,bookAndUnlockRounds:u}=e,_=c&&c.progress>0,g=e=>e?Ee(e||"","index",{banner:"index"}):"",p=()=>{Q.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK",{campaign:t,actionName:"index"})},v={containerProps:{backgroundColor:"brand_primary",className:Z.banner},horizontalLayoutProps:{alignItems:"center",gap:8},image:i().createElement(s.Image,{width:"144px",height:"144px",src:n,fallback:null}),title:{children:fe(r,{"vip-highlight":Z.vipHighlight}),variant:"headline_3",className:_?Z.bannerTitle:""},suptitle:{children:d,variant:"body_2",className:_?"":Z.marginBottom1x},subtitle:_?void 0:{children:l,variant:"body_1",color:"white"},extraColumnProps:{content:c&&i().createElement(ue,(0,o.Z)({},c,{size:"medium"})),className:_?Z.progrssionBarWrapper:void 0},extraColumnLayoutProps:{alignItems:"end"},action:null===m||void 0===m?void 0:m.map((e=>({content:i().createElement(s.Button,{text:e.text,variant:"primary",size:"medium"}),href:g(e.actionString),callback:p}))),actionLayoutProps:{gap:4}},f={containerProps:{backgroundColor:"brand_primary",className:ce()(Z.banner,Z.modern),padding:4},horizontalLayoutProps:{alignItems:"stretch",gap:4},imagePosition:"right",image:u?i().createElement(Te,{speed:4e3,indicatorStyle:"bar",slideWidth:92},u.map((e=>i().createElement(Pe,(0,o.Z)({},e.ringProps,{key:`slider_${e.index}`}))))):i().createElement(s.Image,{width:"120px",height:"120px",src:n,fallback:null}),action:null===m||void 0===m?void 0:m.map((e=>({content:i().createElement(s.Button,{text:e.text,variant:"primary",size:"medium"}),href:g(e.actionString),callback:p}))),actionLayoutProps:{gap:8,justifyContent:"space-between"},textBlock:i().createElement(s.Stack,{gap:1},d?i().createElement(s.Stack.Item,null,i().createElement(s.Text,{color:"white",variant:"body_2"},d)):null,i().createElement(s.Stack.Item,null,i().createElement(s.Text,{color:"white",variant:"headline_3"},fe(r,{"vip-highlight":Z.vipHighlight}))),l?i().createElement(s.Text,{color:"white",variant:"body_1"},l):null)},h={containerProps:{backgroundColor:"brand_primary",className:ce()(Z.banner,Z.modern)},imagePosition:"right",horizontalLayoutProps:{alignItems:"center",gap:8},image:i().createElement(s.Image,{width:"144px",height:"144px",src:n,fallback:null}),textLayoutProps:{gap:1},title:{children:fe(r,{"vip-highlight":Z.vipHighlight}),variant:"headline_3",className:Z.bannerTitle},subtitle:{children:fe(l),color:"white",variant:"body_1"},action:null===m||void 0===m?void 0:m.map((e=>({content:i().createElement(s.Button,{variant:"primary",text:e.text,size:"medium"}),href:g(e.actionString),callback:p}))),actionLayoutProps:{gap:8}},k={[N.BookAndUnlock]:f,[N.InstantDiscount]:h,[N.SpendAndUnlock]:v,[N.InstantCredit]:v,[N.FreeRoomUpgrade]:{},[N.OneOffVoucher]:{},[N.InstantVoucher]:v},b=xe("index",t),S=Ie(b);return i().createElement(J,(0,o.Z)({},k[t],{ref:S}))}var we=n("c33afe92");function De(e){var t;const n=(0,m.useI18n)(),l=null===(t=(0,r.getRequestContext)().getUserIdentity())||void 0===t?void 0:t.userId,d=l?l+" banner":"genius_vip_campaigns_index_banner",{dismissed:c,closeDismissibleItem:u}=(0,we.c)(d,864e5),{programType:_}=(0,a.useContext)(Ye),g=()=>{Q.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_DISMISS",{campaign:_,actionName:"index"}),u()},{asset:p,title:v,subtitle:f,endDate:h,progressBar:k,cta:b,bookAndUnlockRounds:S}=e,y=k&&k.progress>0,E=e=>Ee(e||"","index",{banner:"index"}),I=()=>{Q.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK",{campaign:_,actionName:"index"})},C={containerProps:{backgroundColor:"brand_primary",className:Z.banner},horizontalLayoutProps:{alignItems:"center",gap:4},image:i().createElement(s.Image,{width:"96px",height:"96px",src:p,fallback:null}),textBlock:i().createElement(s.Stack,{gap:2},i().createElement(s.Text,{variant:"small_1"},h),i().createElement(s.Text,{variant:"strong_1"},fe(v,{"vip-highlight":Z.vipHighlight})),y&&k&&i().createElement(ue,(0,o.Z)({},k,{size:"small"}))),action:null===b||void 0===b?void 0:b.map((e=>({content:i().createElement(s.Button,{text:e.text,variant:"primary",size:"medium"}),href:E(e.actionString||""),callback:I}))),dismissibleProps:{buttonColor:"inherit",closeAriaLabel:n.trans((0,x.t)("gc_banner_accessibility_close")),onClose:g},actionLayoutProps:{gap:4}},T={containerProps:{backgroundColor:"brand_primary",className:Z.banner},horizontalLayoutProps:{alignItems:"center",gap:4},imagePosition:"right",image:S?i().createElement(Te,{speed:4e3,indicatorStyle:"bar",slideWidth:92},S.map((e=>i().createElement(Pe,(0,o.Z)({},e.ringProps,{key:`slider_${e.index}`}))))):i().createElement(s.Image,{width:"84px",height:"84px",src:p,fallback:null}),action:null===b||void 0===b?void 0:b.map((e=>({content:i().createElement(s.Button,{text:e.text,variant:"primary",size:"medium"}),href:E(e.actionString||""),callback:I}))),actionLayoutProps:{gap:8},textBlock:i().createElement(s.Stack,{gap:2},h?i().createElement(s.Stack.Item,null,i().createElement(s.Text,{color:"white",variant:"small_1"},h)):null,i().createElement(s.Stack.Item,null,i().createElement(s.Text,{color:"white",variant:"strong_1"},fe(v,{"vip-highlight":Z.vipHighlight}))),f?i().createElement(s.Text,{color:"white",variant:"small_1"},f):null)},O={containerProps:{backgroundColor:"brand_primary",className:Z.banner},horizontalLayoutProps:{alignItems:"center",gap:4},image:i().createElement(s.Image,{width:"84px",height:"84px",src:p,fallback:null}),textLayoutProps:{gap:2},title:{children:fe(v,{"vip-highlight":Z.vipHighlight}),variant:"strong_1"},suptitle:{children:fe(h),color:"white",variant:"small_1"},dismissibleProps:{buttonColor:"inherit",closeAriaLabel:n.trans((0,x.t)("gc_banner_accessibility_close")),onClose:g},action:null===b||void 0===b?void 0:b.map((e=>({content:i().createElement(s.Button,{text:e.text,variant:"primary",size:"medium"}),href:E(e.actionString||""),callback:I}))),actionLayoutProps:{gap:8}},R={[N.BookAndUnlock]:T,[N.InstantDiscount]:O,[N.SpendAndUnlock]:C,[N.InstantCredit]:C,[N.FreeRoomUpgrade]:{},[N.OneOffVoucher]:{},[N.InstantVoucher]:C},A=xe("index",_),P=Ie(A);return i().createElement("div",{className:c?Z.dismissedBannerWrapper:Z.bannerWrapper},i().createElement(J,(0,o.Z)({},R[_],{ref:P})))}const Me={TextWithTranslationTag:e=>e.text,Image:e=>e.url,GeniusVipIcon:e=>e.name},Fe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){if(e.__typename&&Me[e.__typename])return Me[e.__typename](e);if("object"!==typeof e)return e;for(const n in e)if(e.hasOwnProperty(n)){if(!e||"object"!==typeof e)return e;t[n]=Fe(e[n],Object.assign(e[n]instanceof Array?[]:{},e[n]))}return t}},Ue=Fe,Ve=(e,t,n,a,i)=>{var r,o,s;if(!i||!i.rounds||!n.maxRounds)return;const{rewardPercent:l,endDate:d,bookingsPerRound:c,maxRounds:m}=n,{rounds:u,isOnboarding:_,maxBookingsReached:g}=i,p=5===l,v={start_style:"<vip-highlight>",end_style:"</vip-highlight>"},f=(null===(r=a.amountEarned)||void 0===r?void 0:r.amount)||0,h=u.reduce(((e,t)=>{const{rewardAmount:n,rewardsSent:a,bookingsCount:i,maxCount:r}=t;return null!==n&&void 0!==n&&n.amount&&!a&&i===r?e+n.amount:e}),0),k=(null===(o=a.formattedCurrencies)||void 0===o?void 0:o.amountEarned)||"",b=(null===(s=a.formattedCurrencies)||void 0===s?void 0:s.amountPendingTotal)||"",S=e.trans((0,x.t)("genius_vip_challenge_bnu_end_date",{variables:{end_date:(0,C.p6)(e,{date:new Date(d)||"",form:T})}})),y=u.filter((e=>e.rewardsSent)).length,E=y===m,N=((e,t)=>e.map((e=>{const{bookingsCount:n,maxCount:a,rewardsSent:i,isStarted:r,index:o,formattedCurrencies:s}=e,l=(null===s||void 0===s?void 0:s.rewardAmount)||"";return{isStarted:r,index:o,ringProps:{size:"small",theme:t,isGappedRing:2!==a,maxCount:a,bookingsCount:n,rewardsSent:i},rewardAmountFormatted:l,label:"",description:""}})).sort(((e,t)=>e.index-t.index)))(u,"golden"),I={cta:[{text:_?e.trans((0,x.t)("genius_vip_challenge_bnu_cta_get_details")):e.trans((0,x.t)("genius_vip_challenge_bnu_cta_check_progress")),actionString:"genius_vip_campaigns"}]};if(_)Object.assign(I,{title:e.trans((0,x.t)(p?"genius_vip_challenge_bnu_index_banner_title_onboarding_5_percent":"genius_vip_challenge_bnu_index_banner_title_onboarding_10_percent",{variables:{num_booking_threshold:c||5,...v},num_exception:c||5})),asset:"https://bstatic.com/data/mobile/gneius_vip_logo_with_ripple_v2@LARGE.png"});else if(E)Object.assign(I,{title:e.trans((0,x.t)("genius_vip_challenge_bnu_index_banner_title_earned_total",{variables:{amount_earned_total:k,...v}}))});else if(g&&y>0)Object.assign(I,{title:e.trans((0,x.t)("genius_vip_challenge_bnu_index_banner_title_complete_stays_to_earn",{variables:{amount_to_earn_total:b,...v}})),subtitle:e.trans((0,x.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total",{variables:{amount_earned_total:k}}))});else if(g&&!y)Object.assign(I,{title:e.trans((0,x.t)("genius_vip_challenge_bnu_index_banner_title_complete_stays_to_earn",{variables:{amount_to_earn_total:b,...v}}))});else{N.filter((e=>e.isStarted)).slice(-2).forEach(((t,n)=>{const{bookingsCount:a,maxCount:i,rewardsSent:r}=t.ringProps,o=i-a;0===a?I.subtitle=f&&h&&m>2?e.trans((0,x.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total_and_stay_more",{variables:{amount_earned_total:k}})):e.trans((0,x.t)("genius_vip_challenge_bnu_index_banner_subtitle_make_another_booking")):a===i?I.title=r?e.trans((0,x.t)("genius_vip_challenge_bnu_index_banner_title_earned_last",{variables:{amount_earned_total:k,...v}})):e.trans((0,x.t)("genius_vip_challenge_bnu_index_banner_title_complete_stays_to_earn",{variables:{amount_to_earn_total:b,...v}})):t.index>y?I.subtitle=m>2&&f&&2===i?e.trans((0,x.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total_and_num_booking_to_earn",{variables:{amount_earned_total:k}})):e.trans((0,x.t)("genius_vip_challenge_bnu_index_banner_subtitle_num_booking_to_earn",{variables:{num_booking_more:o},num_exception:o})):I.title=e.trans((0,x.t)(p?"genius_vip_challenge_bnu_index_banner_title_num_booking_to_earn_5_percent":"genius_vip_challenge_bnu_index_banner_title_num_booking_to_earn_10_percent",{variables:{num_booking_more:o,...v},num_exception:o})),1===n&&y===t.index&&a>0&&(I.subtitle=e.trans((0,x.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total",{variables:{amount_earned_total:k}})))}))}const O=(E?N.slice(-1):N.filter((e=>e.isStarted&&!e.ringProps.rewardsSent))).map((n=>{if(0===n.index&&n.ringProps.bookingsCount<n.ringProps.maxCount)return n;const a={content:e.trans((0,x.t)("genius_vip_challenge_bnu_round_num",{variables:{num_round:n.index+1}})),gap:2,textProps:{variant:t?"small_1":"body_2",color:"white"}};return{...n,ringProps:{...n.ringProps,additionalText:a}}}));return I.bookAndUnlockRounds=_?void 0:O,I.endDate=I.subtitle?"":S,I},Be={view:{welcome:k.MODAL_VIEW,reminding:k.REMINDER_MODAL_VIEW,login:k.LOGIN_MODAL_VIEW},click:{welcome:k.MODAL_CTA_CLICK,reminding:k.REMINDER_MODAL_CTA_CLICK,login:k.LOGIN_MODAL_CTA_CLICK},dismiss:{welcome:k.MODAL_DISMISS,reminding:k.REMINDER_MODAL_DISMISS}};const Ge=(e,t,n,a)=>{var i;"click"!==(i=n)&&"dismiss"!==i&&"view"!==i?Q.eventBus.publish(n,{campaign:e,actionName:t}):a&&Be[n][a]&&Q.eventBus.publish(Be[n][a],{campaign:e,actionName:t})};function We(e){let{actionArray:t,isMdot:n,modalCategory:a,programType:r,actionName:l,onCtaClick:d,onClose:c}=e;if(!t||!t.length)return null;const m=()=>{d&&d(),r&&Ge(r,l,"click",a)},u=()=>{c&&c()},_=t.sort(((e,t)=>e.actionDismiss&&!t.actionDismiss?1:!e.actionDismiss&&t.actionDismiss?-1:0)).map((e=>({text:e.text,actionString:e.actionString?Ee(e.actionString||"",l,{modal:l,type:a,...e.actionParams},e.actionUrl):"",actionDismiss:e.actionDismiss})));return i().createElement(i().Fragment,null,_.map(((e,t)=>i().createElement(s.Button,(0,o.Z)({key:`cta_${e.text}`},((e,t)=>{const{actionString:a,actionDismiss:i,text:r}=e,o={text:r,size:n?"large":"medium",wide:n,variant:t?"tertiary":"primary"};return a?{...o,onClick:m,attributes:{href:a}}:{...o,onClick:u}})(e,t))))))}const $e="ccf424a5ad",Ke="d04c5d2f03",He="a91e8e5f9d",ze="cfcd3b7a79",Xe="eafe9db2fe";const Ze=function(e){var t;let{uiData:n,isMdot:a,programType:r,actionName:o,modalCategory:l,onClose:d}=e;const c=We({actionArray:n.cta,isMdot:a,modalCategory:l,programType:r,actionName:o,onClose:d});if(!r||!Object.keys(n).length)return null;const m=(e=>{switch(e){case N.BookAndUnlock:case N.InstantDiscount:return{width:"248px",height:"228px"};case N.InstantCredit:case N.SpendAndUnlock:return{width:"208px",height:"176px"};case N.OneOffVoucher:return{width:"256px",height:"256px"};default:return{width:"208px",height:"176px"}}})(r),u=2===(null===(t=n.cta)||void 0===t?void 0:t.length);return i().createElement(Ne.df,{triggerOnce:!0,onChange:e=>{e&&Ge(r,o,"view",l)}},i().createElement(s.Box,{padding:a?4:6,className:ce()(a&&Ke,a&&u&&He)},i().createElement(s.Stack,{gap:6,alignItems:"center"},i().createElement(s.Stack.Item,null,i().createElement(s.Image,{src:n.asset,width:m.width,height:m.height,contentMode:"fit",fallback:null})),i().createElement(s.Stack.Item,null,i().createElement(s.Stack,{gap:4},i().createElement(s.Stack.Item,null,i().createElement(s.Text,{variant:"headline_2",align:"center"},n.title)),i().createElement(s.Stack.Item,null,i().createElement(s.Text,{variant:a?"body_1":"featured_3",align:"center"},fe(n.subtitle,{"vip-bold":$e}))))),i().createElement(s.Stack.Item,{className:ce()(a&&ze,a&&u&&Xe)},i().createElement(s.Stack,{gap:a?0:3},n.cta&&c)))))};var je=n("af1e2b38");const Ye=(0,a.createContext)({programType:N.InstantCredit});function qe(e){let{bannerData:t,modalData:n,dismissModal:r,dismissed:o,modalCategory:s}=e;const{isMDOT:d}=(0,je.Z6)(),c=(0,a.useContext)(Ye).programType,{isOpen:m,toggle:u,setContent:_}=(0,a.useContext)(l),g=Ze({uiData:n,isMdot:d,programType:c,actionName:"index",modalCategory:s,onClose:u});return(0,a.useEffect)((()=>{!o&&n&&(_(g),!m&&Object.keys(n).length&&(u(),r()))})),d?i().createElement(De,t):i().createElement(Le,t)}function Je(){var e,t,n,o,s,l,d;const{isMDOT:h}=(0,je.Z6)(),k=function(){var e;const t=(0,a.useRef)({localStorageKey:"default_key",localStorageValue:Date.now()+"",modalCategory:"",vipIndex:null}),n=null===(e=(0,r.getRequestContext)().getUserIdentity())||void 0===e?void 0:e.userId,i=(0,r.getRequestContext)().getBasePageUrl().searchParams,o=K(),s=(0,u.isFeatureRunning)(u.feature`VAKUAABOSVZMYCVCMIQRXaVeVXPPRC`),l=!Boolean(n)||!(!i.get(y)||!o)||!s,d=i.get(S);(0,p.trackExperiment)(p.exp`cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT`);const{loading:c,error:m,data:h}=(0,_.useQuery)(v,{variables:{input:{enableEnroll:!0,page:I.INDEX,isFromEmail:Boolean(d)}},skip:l});if(m||c||l||!h)return m&&((0,p.trackExperimentStage)(p.exp`cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT`,5),(0,g.reportWarning)(`Genius VIP index query error ${m.message}`)),t.current;const k=h.geniusVipEnrolledProgram;if(k&&"GeniusVipEnrolledProgram"===k.__typename&&f(k,["metadata","reward","geniusVipUIs"])){(0,p.trackExperimentStage)(p.exp`cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT`,3);const e=k.geniusVipUIs.indexModal;e&&(0,p.trackExperimentStage)(p.exp`cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT`,4);let a="";k.metadata.programType===N.OneOffVoucher&&"reminding"!==(null===e||void 0===e?void 0:e.modalCategory)&&d?a=d:e&&f(e,["modalCategory","uniqueKey"])&&(a=e.modalCategory+e.uniqueKey),t.current={vipIndex:k,localStorageKey:(n||d)+"",localStorageValue:a,modalCategory:e&&e.modalCategory||""}}return t.current}(),{localStorageKey:E,localStorageValue:x,vipIndex:C}=k;let T=k.modalCategory;const{closeDismissibleItem:O,dismissed:R}=(0,we.T)(E,x),A=(0,m.useI18n)(),P=null===(e=(0,r.getRequestContext)().getUserIdentity())||void 0===e?void 0:e.userId,L=(0,r.getRequestContext)().getBasePageUrl(),w=null===L||void 0===L?void 0:L.searchParams;let D=null===C||void 0===C||null===(t=C.metadata)||void 0===t?void 0:t.programType,M=Ue((null===C||void 0===C||null===(n=C.geniusVipUIs)||void 0===n?void 0:n.indexModal)||{});if(!D&&!P&&w.get(y)===N.OneOffVoucher&&(0,u.isFeatureRunning)(u.feature`cQYIMdUTNOUbWNHGHbfEGfMKMLae`)){const e=H(w,A);M=e.indexModal,T=e.modalCatgory,D=N.OneOffVoucher}let F=Ue((null===k||void 0===k||null===(o=k.vipIndex)||void 0===o||null===(o=o.geniusVipUIs)||void 0===o?void 0:o.indexBanner)||{});D===N.BookAndUnlock&&C&&f(C,["metadata","reward","userProgress"])&&(F=Ve(A,h,C.metadata,C.reward,C.userProgress)||{});const U=0===Object.keys(M).length,V=0===Object.keys(F).length;if((0,a.useEffect)((()=>{D!==N.OneOffVoucher||U||T!==b.LOGIN&&T!==b.EXPIRE||!L||(L.searchParams.set("offlineModalShown","1"),window.history.pushState({},"",L))}),[D,U,L,T]),!D)return null;if(V&&U)return null;if(D===N.BookAndUnlock&&null!==C&&void 0!==C&&null!==(s=C.userProgress)&&void 0!==s&&s.maxRewardsReached)return null;let B=null;if("SpendAndUnlockProgramMetadata"===(null===C||void 0===C||null===(l=C.metadata)||void 0===l?void 0:l.__typename)&&"SpendAndUnlockReward"===(null===(d=C.reward)||void 0===d?void 0:d.__typename)){var G,W,$,z;const{metadata:e,reward:t}=C,n=null===(G=t.amountTotalUserSpent)||void 0===G?void 0:G.amount,a=null===(W=e.upperLimit)||void 0===W?void 0:W.amount,i=null===($=e.threshold)||void 0===$?void 0:$.amount;if(n&&a&&i&&e.rewardPercent&&null!==(z=F.progressBar)&&void 0!==z&&z.indicators){var X;const t=null===(X=F)||void 0===X||null===(X=X.progressBar)||void 0===X?void 0:X.indicators.map((e=>({value:(null===e||void 0===e?void 0:e.value)||0,formattedValue:(null===e||void 0===e?void 0:e.formattedValue)||""})));B={progress:n,upperLimit:a/((null===e||void 0===e?void 0:e.rewardPercent)/100),threshold:i,indicators:t,size:h?"small":"medium"}}}Object.assign(F,{progressBar:B});const Z={isMdot:h,openOnLoad:!1,onAfterClose:()=>{D&&Ge(D,"index","dismiss",T)},sheetContainerProps:{fill:!0}};return i().createElement(Ye.Provider,{value:{programType:D}},i().createElement(c,Z,i().createElement(qe,{bannerData:F,modalData:M,dismissModal:O,dismissed:R,modalCategory:T})))}},c33afe92:(e,t,n)=>{"use strict";n.d(t,{c:()=>p,T:()=>v});var a=n("ead71eb0"),i=n("38c7511c");const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;const o=function(e){return"string"===typeof e&&r.test(e)};const s=function(e){if(!o(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function l(e,t,n,a){switch(e){case 0:return t&n^~t&a;case 1:case 3:return t^n^a;case 2:return t&n^t&a^n&a}}function d(e,t){return e<<t|e>>>32-t}const c=function(e,t,n){function a(e,a,r,o){var l;if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"===typeof a&&(a=s(a)),16!==(null===(l=a)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+e.length);if(d.set(a),d.set(e,a.length),(d=n(d))[6]=15&d[6]|t,d[8]=63&d[8]|128,r){o=o||0;for(var c=0;c<16;++c)r[o+c]=d[c];return r}return(0,i.S)(d)}try{a.name=e}catch(r){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var a=unescape(encodeURIComponent(e));e=[];for(var i=0;i<a.length;++i)e.push(a.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var r=e.length/4+2,o=Math.ceil(r/16),s=new Array(o),c=0;c<o;++c){for(var m=new Uint32Array(16),u=0;u<16;++u)m[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3];s[c]=m}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(var _=0;_<o;++_){for(var g=new Uint32Array(80),p=0;p<16;++p)g[p]=s[_][p];for(var v=16;v<80;++v)g[v]=d(g[v-3]^g[v-8]^g[v-14]^g[v-16],1);for(var f=n[0],h=n[1],k=n[2],b=n[3],S=n[4],y=0;y<80;++y){var E=Math.floor(y/20),N=d(f,5)+l(E,h,k,b)+S+t[E]+g[y]>>>0;S=b,b=k,k=d(h,30)>>>0,h=f,f=N}n[0]=n[0]+f>>>0,n[1]=n[1]+h>>>0,n[2]=n[2]+k>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+S>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));var m=n("baae01e7"),u=n.n(m);function _(e){return c(e+"","78f09b1c-730c-49ff-8e0f-23315c42a5b7")}function g(e,t){const[n,i]=(0,a.useState)(!0);return u()((()=>{try{const n=window.localStorage.getItem(e);n&&t(n)?i(!0):i(!1)}catch(n){}})),[n,i]}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:72e5;const n=_(e),[a,i]=g(n,(e=>Date.now()-+e<=t));return{closeDismissibleItem:()=>{i(!0),window.localStorage.setItem(n,JSON.stringify(Date.now()))},dismissed:a,encryptLocalStorageKey:n}}function v(e,t){const n=_(e),[i,r]=g(n,(e=>e===t));return{closeDismissibleItem:(0,a.useCallback)((()=>{r(!0),window.localStorage.setItem(n,t)}),[n,r,t]),dismissed:i,encryptLocalStorageKey:n}}},"38c7511c":(e,t,n)=>{"use strict";n.d(t,{S:()=>r});for(var a=[],i=0;i<256;++i)a.push((i+256).toString(16).slice(1));function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}},"107a8bb5":(e,t,n)=>{"use strict";n.d(t,{p6:()=>B});var a=n("e74bf205"),i=n("abab1afe");function r(e,t,n){void 0===t&&(t=2),void 0===n&&(n="0");for(var a=(e||"").toString(),i=a.length;i<t;)a=n+a,i++;return a}function o(e){return e instanceof Date&&!isNaN(e.getTime())}function s(e){return{dayOfMonth:e.getDate(),day:(t=e.getDay(),0===t?7:t),month:e.getMonth()+1,year:e.getFullYear(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()};var t}function l(e){return void 0===e&&(e={}),Object.keys(e).reduce((function(t,n){var a=e[n];return null!==a&&"undefined"!==typeof a&&("string"===typeof a?t[n]=a:"number"!==typeof a||isNaN(a)||(t[n]=a.toString(10))),t}),{})}function d(e,t){var n;if(!e)throw new Error("No i18n object provided");var d=function(e){var t=o(e)?e:new Date("2019-01-01T"+e);if(o(t)){var n=s(t);return{hour:n.hours,minutes:n.minutes,seconds:n.seconds}}throw new Error("formatting/time: invalid time provided \u2014 "+e)}(t.time),c=(d.hour<12?"AM":"PM")+"_symbol",m=(0,a.pi)({AM_PM:e.trans((0,i.t)("time_format",c,"name",{variables:{}}))},function(e,t){var n=e.hour,a=t?n:e.hour,i=0===e.hour||12===e.hour?12:e.hour%12;return l({hour_24h_no0:e.hour,hour_24h:r(e.hour),hour_24h_show24:r(n),hour_24h_until24:r(a),hour_12h:r(i),minutes_no0:e.minutes,minutes:r(e.minutes),hour_12h_no0:i,hour_24h_show24_no0:n,hour_24h_until24_no0:a})}(d,null!==(n=t.until)&&void 0!==n&&n));return e.trans((0,i.t)("time_format","time","name",{variables:m}))}(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name"));const c="name";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","genitive_lc"));const m="genitive_lc";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","genitive_uc"));const u="genitive_uc";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name_only"));const _="name_only";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name_in"));const g="name_in";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name_from"));const p="name_from";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name_to"));const v="name_to";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name_def_article_lc"));const f="name_def_article_lc";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","in_month_lc"));const h="in_month_lc";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name_lc"));const k="name_lc";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","to_month_lc"));const b="to_month_lc";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","short_name"));const S="short_name";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","short_name_uc"));const y="short_name_uc";(0,i.registerDynamicTags)((0,i.t)("weekday_formatted_date","fakeIndex","name"));const E="name";(0,i.registerDynamicTags)((0,i.t)("weekday_formatted_date","fakeIndex","name_on"));const N="name_on";(0,i.registerDynamicTags)((0,i.t)("weekday_formatted_date","fakeIndex","name_from"));const I="name_from";(0,i.registerDynamicTags)((0,i.t)("weekday_formatted_date","fakeIndex","name_to"));const x="name_to";(0,i.registerDynamicTags)((0,i.t)("weekday_formatted_date","fakeIndex","short"));const C="short";(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","day_from"));const T="day_from";(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","day_on"));const O="day_on";(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","day_other"));const R="day_other";(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","day_until"));const A="day_until";(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","name"));const P="name";(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","day_1"));const L="day_1";(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","day_2"));const w="day_2";function D(e){var t=(0,a.CR)(/^(\d{2}):(\d{2})(:(\d{2}))?/.exec(e)||[],5),n=t[1],i=t[2],o=t[4],s=void 0===o?"0":o;return new Date("2020-01-01T"+r(n)+":"+r(i)+":"+r(s))}function M(e){var t=(0,a.CR)(e.split(/[\sT]/),2),n=t[0],i=t[1];if(n||i){var o=new Date;if(n&&(o=function(e){var t=(0,a.CR)(/^(\d{4})-(\d{1,2})-(\d{1,2})$/.exec(e)||[],4),n=t[1],i=t[2],o=t[3];return new Date(n+"-"+r(i)+"-"+r(o)+"T00:00")}(n)),i){var l=D(i),d=s(o),c=d.year,m=d.month,u=d.dayOfMonth,_=s(l),g=_.hours,p=_.minutes,v=_.seconds;o=new Date(c,m-1,u,g,p,v)}return o}return null}function F(e,t){var n=o(e)?e:M(e),a=t?o(t)?t:D(t):void 0;if(!n)throw new Error("No date provided \u2014 '"+e+"' '"+t+"'");if(o(a)&&o(e)){var i=s(e),r=i.year,l=i.month,d=i.dayOfMonth,c=s(a),m=c.hours,u=c.minutes,_=c.seconds;n=new Date(r,l-1,d,m,u,_)}if(!o(n))throw new Error("invalid date provided \u2014 '"+e+"' '"+t+"'");return n}function U(e,t,n,a,r){return void 0===r&&(r={}),Object.keys(r).reduce((function(o,s){return o[s+t]=e.trans((0,i.t)(n,a.toString(),r[s])),o}),{})}function V(e,t,n){var o,l;void 0===n&&(n="");var D=s(t),M=D.month,F=D.year,V=D.dayOfMonth,B=D.day,G=M.toString(),W=(0,a.pi)((0,a.pi)((0,a.pi)(((o={})["full_year"+n]=F.toString(),o["month"+n]=G,o["day_of_month"+n]=V.toString(),o["month_name_with_year_only"+n]=e.trans((0,i.t)("month_for_formatted_date",G,"name_with_year_only")),o["time"+n]=d(e,{time:t}),o),U(e,n,"day_for_formatted_date",V,{day_name_from:T,day_name_on:O,day_name_other:R,day_name_till:A,day_name_1:P,day_other:R,day_name:P,day_1:L,day_of_month:P,day_2:w})),U(e,n,"month_for_formatted_date",M,{month_1:c,month_2:c,month_name_1:c,month_name_2:c,month_name:c,month_name_genitive_lc:m,month_name_genitive_uc:u,month_name_nom:_,month_name_in:g,month_name_from:p,month_name_to:v,month_genitive_uc:u,month_name_def_article_lc:f,month_name_genitive:m,month_name_in_lc:h,month_name_lc:k,month_name_to_lc:b,month_name_with_year_only:_,short_month_name:S,short_month_name_uc:y})),U(e,n,"weekday_formatted_date",B,{weekday:E,weekday_nom:N,weekday_from:I,weekday_to:x,short_weekday:C}));return(0,a.pi)(((l={})["year"+n]=W.full_year,l["day_name_0"+n]=r(W.day_of_month),l["day_name_1"+n]=W.day_of_month,l["month_name_0"+n]=r(W.month),l["month_name_1"+n]=W.month,l["day_name_from_0"+n]=r(W["day_name_from"+n]),l["day_name_on_0"+n]=r(W["day_name_on"+n]),l["day_name_other_0"+n]=r(W["day_name_other"+n]),l["day_name_till_0"+n]=r(W["day_name_till"+n]),l),W)}function B(e,t){if(!e)throw new Error("No i18n object provided");var n=t.time,r=t.timeUntil,o=t.beginMarker,s=void 0===o?"(":o,c=t.endMarker,m=void 0===c?")":c,u=t.form,_=t.date,g=t.dateUntil,p=(0,a.pi)({begin_marker:s,end_marker:m},V(e,F(_,n)));return g&&(p=(0,a.pi)((0,a.pi)({},p),V(e,F(g,r),"_until"))),n&&(p.time=d(e,{time:n})),r&&(p.time_until=d(e,{time:r})),u?e.trans((0,i.t)("date_format","1",u,{variables:l(p)})):e.trans((0,i.t)("date_format","1","short_date",{variables:l(p)}))}},"8521b397":(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,r(n)))}return e}function r(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},"9a67ad93":(e,t,n)=>{"use strict";n.d(t,{YD:()=>_,df:()=>u});var a=n("ead71eb0"),i=Object.defineProperty,r=(e,t,n)=>(((e,t,n)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),o=new Map,s=new WeakMap,l=0,d=void 0;function c(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(n=e.root,n?(s.has(n)||(l+=1,s.set(n,l.toString())),s.get(n)):"0"):e[t]}`;var n})).toString()}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d;if("undefined"===typeof window.IntersectionObserver&&void 0!==a){const i=e.getBoundingClientRect();return t(a,{isIntersecting:a,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}const{id:i,observer:r,elements:s}=function(e){const t=c(e);let n=o.get(t);if(!n){const a=new Map;let i;const r=new IntersectionObserver((t=>{t.forEach((t=>{var n;const r=t.isIntersecting&&i.some((e=>t.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=r),null==(n=a.get(t.target))||n.forEach((e=>{e(r,t)}))}))}),e);i=r.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:r,elements:a},o.set(t,n)}return n}(n),l=s.get(e)||[];return s.has(e)||s.set(e,l),l.push(t),r.observe(e),function(){l.splice(l.indexOf(t),1),0===l.length&&(s.delete(e),r.unobserve(e)),0===s.size&&(r.disconnect(),o.delete(i))}}var u=class extends a.Component{constructor(e){super(e),r(this,"node",null),r(this,"_unobserveCb",null),r(this,"handleNode",(e=>{this.node&&(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()})),r(this,"handleChange",((e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),function(e){return"function"!==typeof e.children}(this.props)||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)})),this.state={inView:!!e.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:t,rootMargin:n,trackVisibility:a,delay:i,fallbackInView:r}=this.props;this._unobserveCb=m(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:a,delay:i},r)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:e}=this.props;if("function"===typeof e){const{inView:t,entry:n}=this.state;return e({inView:t,entry:n,ref:this.handleNode})}const{as:t,triggerOnce:n,threshold:i,root:r,rootMargin:o,onChange:s,skip:l,trackVisibility:d,delay:c,initialInView:m,fallbackInView:u,..._}=this.props;return a.createElement(t||"div",{ref:this.handleNode,..._},e)}};function _(){let{threshold:e,delay:t,trackVisibility:n,rootMargin:i,root:r,triggerOnce:o,skip:s,initialInView:l,fallbackInView:d,onChange:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var u;const[_,g]=a.useState(null),p=a.useRef(),[v,f]=a.useState({inView:!!l,entry:void 0});p.current=c,a.useEffect((()=>{if(s||!_)return;let a;return a=m(_,((e,t)=>{f({inView:e,entry:t}),p.current&&p.current(e,t),t.isIntersecting&&o&&a&&(a(),a=void 0)}),{root:r,rootMargin:i,threshold:e,trackVisibility:n,delay:t},d),()=>{a&&a()}}),[Array.isArray(e)?e.toString():e,_,r,i,o,s,n,d,t]);const h=null==(u=v.entry)?void 0:u.target,k=a.useRef();_||!h||o||s||k.current===h||(k.current=h,f({inView:!!l,entry:void 0}));const b=[g,v.inView,v.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}}}]);
//# sourceMappingURL=https://istatic.booking.com/internal-static/capla/static/js/6b631c3f.f6de8a11.chunk.js.map